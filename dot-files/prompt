PS1='%F{30}(%~)%f %$'
precmd() { RPROMPT=$(setRightPrompt) }

GCLOUD_ENABLED=1

function setRightPrompt {
	if git rev-parse --is-inside-work-tree &>/dev/null; then
		branch=$(git rev-parse --abbrev-ref HEAD 2>/dev/null)
		echo "%F{53}($branch)%f"
	else
		if [ $GCLOUD_ENABLED -eq 0 ]; then
			context=$(gcloud config get-value project)
			echo "%F{33}($context)%f"
		else
			echo "%F{55}($(date +"%H:%M:%S"))%f"
		fi	
	fi
}

alias python=python3	

